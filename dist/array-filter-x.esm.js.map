{"version":3,"sources":["../src/array-filter-x.js"],"names":[],"mappings":"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","file":"array-filter-x.esm.js","sourcesContent":["import attempt from 'attempt-x';\nimport splitIfBoxedBug from 'split-if-boxed-bug-x';\nimport toLength from 'to-length-x';\nimport toObject from 'to-object-x';\nimport assertIsFunction from 'assert-is-function-x';\nimport requireObjectCoercible from 'require-object-coercible-x';\n\nconst nf = [].filter;\nconst nativeFilter = typeof nf === 'function' && nf;\n\nconst test1 = function test1() {\n  let spy = 0;\n  const res = attempt.call([1, 2], nativeFilter, function spyAdd1(item) {\n    spy += item;\n\n    return false;\n  });\n\n  return res.threw === false && res.value && res.value.length === 0 && spy === 3;\n};\n\nconst test2 = function test2() {\n  let spy = '';\n  const res = attempt.call({}.constructor('abc'), nativeFilter, function spyAdd2(item, index) {\n    spy += item;\n\n    return index === 1;\n  });\n\n  return res.threw === false && res.value && res.value.length === 1 && res.value[0] === 'b' && spy === 'abc';\n};\n\nconst test3 = function test3() {\n  let spy = 0;\n  const res = attempt.call(\n    (function getArgs() {\n      /* eslint-disable-next-line prefer-rest-params */\n      return arguments;\n    })(1, 2, 3),\n    nativeFilter,\n    function spyAdd3(item, index) {\n      spy += item;\n\n      return index === 2;\n    },\n  );\n\n  return res.threw === false && res.value && res.value.length === 1 && res.value[0] === 3 && spy === 6;\n};\n\nconst test4 = function test4() {\n  let spy = 0;\n  const res = attempt.call(\n    {\n      0: 1,\n      1: 2,\n      3: 3,\n      4: 4,\n      length: 4,\n    },\n    nativeFilter,\n    function spyAdd4(item) {\n      spy += item;\n\n      return false;\n    },\n  );\n\n  return res.threw === false && res.value && res.value.length === 0 && spy === 6;\n};\n\nconst test5 = function test5() {\n  const doc = typeof document !== 'undefined' && document;\n\n  if (doc) {\n    let spy = null;\n    const fragment = doc.createDocumentFragment();\n    const div = doc.createElement('div');\n    fragment.appendChild(div);\n    const res = attempt.call(fragment.childNodes, nativeFilter, function spyAssign(item) {\n      spy = item;\n\n      return item;\n    });\n\n    return res.threw === false && res.value && res.value.length === 1 && res.value[0] === div && spy === div;\n  }\n\n  return true;\n};\n\nconst test6 = function test6() {\n  const isStrict = (function returnIsStrict() {\n    /* eslint-disable-next-line babel/no-invalid-this */\n    return true.constructor(this) === false;\n  })();\n\n  if (isStrict) {\n    let spy = null;\n    const res = attempt.call(\n      [1],\n      nativeFilter,\n      function testThis() {\n        /* eslint-disable-next-line babel/no-invalid-this */\n        spy = typeof this === 'string';\n      },\n      'x',\n    );\n\n    return res.threw === false && res.value && res.value.length === 0 && spy === true;\n  }\n\n  return true;\n};\n\nconst test7 = function test7() {\n  const spy = {};\n  const fn =\n    'return nativeFilter.call(\"foo\", function (_, __, context) {' +\n    'if (castBoolean(context) === false || typeof context !== \"object\") {' +\n    'spy.value = true;}});';\n\n  /* eslint-disable-next-line no-new-func */\n  const res = attempt(Function('nativeFilter', 'spy', 'castBoolean', fn), nativeFilter, spy, true.constructor);\n\n  return res.threw === false && res.value && res.value.length === 0 && spy.value !== true;\n};\n\nconst isWorking = true.constructor(nativeFilter) && test1() && test2() && test3() && test4() && test5() && test6() && test7();\n\nconst patchedFilter = function patchedFilter() {\n  return function filter(array, callBack /* , thisArg */) {\n    requireObjectCoercible(array);\n    const args = [assertIsFunction(callBack)];\n\n    if (arguments.length > 2) {\n      /* eslint-disable-next-line prefer-rest-params,prefer-destructuring */\n      args[1] = arguments[2];\n    }\n\n    return nativeFilter.apply(array, args);\n  };\n};\n\nconst implementation = function implementation() {\n  return function filter(array, callBack /* , thisArg */) {\n    const object = toObject(array);\n    // If no callback function or if callback is not a callable function\n    assertIsFunction(callBack);\n    const iterable = splitIfBoxedBug(object);\n    const length = toLength(iterable.length);\n    /* eslint-disable-next-line prefer-rest-params,no-void */\n    const thisArg = arguments.length > 2 ? arguments[2] : void 0;\n    const noThis = typeof thisArg === 'undefined';\n    const result = [];\n    for (let i = 0; i < length; i += 1) {\n      if (i in iterable) {\n        const item = iterable[i];\n\n        if (noThis ? callBack(item, i, object) : callBack.call(thisArg, item, i, object)) {\n          result[result.length] = item;\n        }\n      }\n    }\n\n    return result;\n  };\n};\n\n/**\n * This method creates a new array with all elements that pass the test\n * implemented by the provided function.\n *\n * @param {Array} array - The array to iterate over.\n * @param {Function} callBack - Function is a predicate, to test each element.\n * @param {*} [thisArg] - Value to use as this when executing callback.\n * @throws {TypeError} If array is null or undefined.\n * @throws {TypeError} If callBack is not a function.\n * @returns {Array} A new array with the elements that pass the test.\n */\nconst $filter = isWorking ? patchedFilter() : implementation();\n\nexport default $filter;\n"]}